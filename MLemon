do
--! Weak Legacy 2: ChronoVault Grand Unified Manifest
--! Custodian-Forged for Delta Executor and Mobile Compatibility (2075)

-- Core environment checks and access
if not getgenv() or not is_mobile_device then
Â  Â  print("[Custodian Archive] CRITICAL ERROR: Execution environment is non-standard.")
Â  Â  return
end

-- Define global access to settings and services
local ChronoUI_Settings = {
Â  Â  Settings = {
Â  Â  Â  Â  ["AutoFarmActive"] = false,
Â  Â  Â  Â  ["AutoQuestActive"] = false,
Â  Â  Â  Â  ["AutoDungeonActive"] = false,
Â  Â  Â  Â  ["AntiAFKActive"] = true,
Â  Â  Â  Â  ["InstaKillThreshold"] = 0.5, -- 50%
Â  Â  Â  Â  ["SelectedFarmTarget"] = "Quest",
Â  Â  },
Â  Â  AnchorPoint = Vector2.new(0.5, 0.9), -- Bottom-center anchor
Â  Â  DungeonWebhookURL = "https://discord.com/api/webhooks/...", -- Speculative Webhook URL
}

local LocalPlayer = game.Players.LocalPlayer
local PlayerCharacter = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:FindFirstChild("Remotes") -- Common Remote container
local RunService = game:GetService("RunService")

-- Speculative Remote Function/Event fetchers
local function GetAttackRemote()
Â  Â  return Remotes and (Remotes:FindFirstChild("AttackEvent") or Remotes:FindFirstChild("SkillCastRF"))
end

local function GetQuestCompleteRemote()
Â  Â  return Remotes and Remotes:FindFirstChild("CompleteQuestRF")
end

-- Predefined Teleport Coordinates (Forbidden Knowledge)
local ChronoVault_Locations = {
Â  Â  Dungeon_Entrance_LocationID = {X = 1500, Y = 50, Z = -300},
Â  Â  Event_Boss_Spawn = {X = 5000, Y = 100, Z = 1000},
Â  Â  -- ... more locations
}

----------------------------------------------------------------------
-- I. CHRONO ENGINE: AUTOMATION CORE
----------------------------------------------------------------------

local Chrono_Engine = {}

-- Helper to find the highest-priority target based on settings
function Chrono_Engine.FindPriorityTarget()
Â  Â  local Targets = {} -- Populate this with scanned NPCs/Mobs
Â  Â  -- P1: Event Boss Logic
Â  Â  -- P2: Boss Logic
Â  Â  -- P3: Quest Target Logic
Â  Â  -- ... return the highest priority Target Instance (Model/Part)
Â  Â  return Targets[1] -- Placeholder return
end

function Chrono_Engine.ExecuteInstaKill(target)
Â  Â  -- The ultimate truth: Bypassing combat logic via server-side 'damage' or 'kill' remote.
Â  Â  local DamageRemote = Remotes:FindFirstChild("ApplyDamageRF") or Remotes:FindFirstChild("KillTargetEvent")
Â  Â  if DamageRemote then
Â  Â  Â  Â  DamageRemote:FireServer(target, 99999) -- Overwhelming damage packet
Â  Â  end
end

function Chrono_Engine.StartFarmLoop()
Â  Â  -- Ensure player is loaded before starting the loop
Â  Â  if not PlayerCharacter then PlayerCharacter = LocalPlayer.CharacterAdded:Wait() end
Â  Â Â 
Â  Â  while ChronoUI_Settings.Settings.AutoFarmActive do
Â  Â  Â  Â  local Target = Chrono_Engine.FindPriorityTarget()
Â  Â  Â  Â Â 
Â  Â  Â  Â  if Target and Target.PrimaryPart and PlayerCharacter.PrimaryPart then
Â  Â  Â  Â  Â  Â  -- 1. Safe Positioning (Teleport to optimal attack distance)
Â  Â  Â  Â  Â  Â  local DesiredPosition = Target.PrimaryPart.CFrame * CFrame.new(0, 3, 15)
Â  Â  Â  Â  Â  Â  PlayerCharacter.PrimaryPart.CFrame = DesiredPosition
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  -- 2. Smart Attack Timing & Remote Execution
Â  Â  Â  Â  Â  Â  local AttackRemote = GetAttackRemote()
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if AttackRemote then
Â  Â  Â  Â  Â  Â  Â  Â  -- EXECUTE PRIMARY ATTACK REMOTE CALL
Â  Â  Â  Â  Â  Â  Â  Â  AttackRemote:FireServer(Target, "PrimaryAttack", os.time())
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  -- Check for Insta-Kill condition
Â  Â  Â  Â  Â  Â  Â  Â  local TargetHumanoid = Target:FindFirstChild("Humanoid")
Â  Â  Â  Â  Â  Â  Â  Â  if TargetHumanoid and TargetHumanoid.Health / TargetHumanoid.MaxHealth <= ChronoUI_Settings.Settings.InstaKillThreshold then
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Chrono_Engine.ExecuteInstaKill(Target)Â 
Â  Â  Â  Â  Â  Â  Â  Â  end
Â  Â  Â  Â  Â  Â  end
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  -- 3. Auto Buff/Skill (Execute all active skill remotes)
Â  Â  Â  Â  Â  Â  -- Remotes:FindFirstChild("Skill1Event"):FireServer()Â 
Â  Â  Â  Â  Â  Â  -- Remotes:FindFirstChild("Skill2Event"):FireServer()
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  else
Â  Â  Â  Â  Â  Â  wait(0.5) -- Scan cooldown
Â  Â  Â  Â  end
Â  Â  Â  Â  wait(0.1) -- Fast loop for continuous action
Â  Â  end
end

function Chrono_Engine.ExecuteTeleport(location_key)
Â  Â  local location_data = ChronoVault_Locations[location_key]
Â  Â  if PlayerCharacter and PlayerCharacter.PrimaryPart and location_data then
Â  Â  Â  Â  PlayerCharacter.PrimaryPart.CFrame = CFrame.new(location_data.X, location_data.Y, location_data.Z)
Â  Â  Â  Â Â 
Â  Â  Â  Â  -- Send a dummy movement remote to validate position post-teleport
Â  Â  Â  Â  Remotes:FindFirstChild("MovementCheck"):FireServer(PlayerCharacter.PrimaryPart.CFrame.Position)
Â  Â  Â  Â  print("[Custodian Archive] Teleported to: " .. location_key)
Â  Â  end
end

----------------------------------------------------------------------
-- II. QOL & ANTI-DETECTION LOOPS
----------------------------------------------------------------------

-- Anti AFK/Anti Lag Loop (Runs continuously in the background)
spawn(function()
Â  Â  -- Anti Lag: Visual/effect optimizations
Â  Â  for _, v in pairs(Workspace:GetDescendants()) do
Â  Â  Â  Â  if v:IsA("ParticleEmitter") or v:IsA("Explosion") then
Â  Â  Â  Â  Â  Â  v.Enabled = false
Â  Â  Â  Â  end
Â  Â  end
Â  Â Â 
Â  Â  while true do
Â  Â  Â  Â  if ChronoUI_Settings.Settings["AntiAFKActive"] then
Â  Â  Â  Â  Â  Â  -- Subtle camera shift and movement remote ping
Â  Â  Â  Â  Â  Â  Workspace.CurrentCamera.CFrame = Workspace.CurrentCamera.CFrame * CFrame.Angles(0.0005, 0, 0)
Â  Â  Â  Â  Â  Â  Remotes:FindFirstChild("KeepAlive"):FireServer()
Â  Â  Â  Â  end
Â  Â  Â  Â Â 
Â  Â  Â  Â  if ChronoUI_Settings.Settings["AutoDungeonActive"] then
Â  Â  Â  Â  Â  Â  -- Dungeon Webhook Alert Simulation (The 'Defeat Webhook' logic)
Â  Â  Â  Â  Â  Â  -- This sends data to an external service on dungeon completion/failure.
Â  Â  Â  Â  Â  Â  local http = game:GetService("HttpService")
Â  Â  Â  Â  Â  Â  http:PostAsync(
Â  Â  Â  Â  Â  Â  Â  Â  ChronoUI_Settings.DungeonWebhookURL,
Â  Â  Â  Â  Â  Â  Â  Â  http:JSONEncode({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  content = "**[WL2 Archive Alert]** Dungeon completed by " .. LocalPlayer.Name,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  embeds = {{ title = "Dungeon Status: Defeat Confirmed", color = 65280 }}
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  end
Â  Â  Â  Â Â 
Â  Â  Â  Â  wait(15) -- Low-frequency QoL loop
Â  Â  end
end)

----------------------------------------------------------------------
-- III. CHRONO UI: MOBILE/DELTA INTERFACE
----------------------------------------------------------------------

local ChronoUI_Module = {}

function ChronoUI_Module.Initialize()
Â  Â  -- Utilize Delta's internal UI framework
Â  Â  local Window = getgenv().Delta.UI:NewWindow("Weak Legacy 2: The Reborn Archive", ChronoUI_Settings.AnchorPoint)
Â  Â Â 
Â  Â  -- FARMING TAB
Â  Â  local FarmTab = Window:NewTab("Farming âš”ï¸")
Â  Â  FarmTab:NewToggle("Auto Farm (Priority)", ChronoUI_Settings.Settings.AutoFarmActive, function(state)
Â  Â  Â  Â  ChronoUI_Settings.Settings.AutoFarmActive = state
Â  Â  Â  Â  if state thenÂ 
Â  Â  Â  Â  Â  Â  spawn(Chrono_Engine.StartFarmLoop) -- Start the loop in a new thread
Â  Â  Â  Â  end
Â  Â  end)
Â  Â  FarmTab:NewToggle("Auto Quest", ChronoUI_Settings.Settings.AutoQuestActive, function(state)
Â  Â  Â  Â  ChronoUI_Settings.Settings.AutoQuestActive = state
Â  Â  end)
Â  Â  FarmTab:NewSlider("Insta-Kill Threshold (%)", 0.05, 1.0, ChronoUI_Settings.Settings.InstaKillThreshold, function(value)
Â  Â  Â  Â  ChronoUI_Settings.Settings.InstaKillThreshold = value
Â  Â  end)
Â  Â Â 
Â  Â  -- TELEPORT TAB
Â  Â  local TeleportTab = Window:NewTab("Teleport ðŸŒŒ")
Â  Â  TeleportTab:NewButton("Teleport: Dungeon Entrance", function()
Â  Â  Â  Â  Chrono_Engine.ExecuteTeleport("Dungeon_Entrance_LocationID")
Â  Â  end)
Â  Â  -- Add all other specific location buttons here...
Â  Â Â 
Â  Â  -- QOL/SETTINGS TAB
Â  Â  local QolTab = Window:NewTab("QoL & Settings âœ¨")
Â  Â  QolTab:NewToggle("Anti AFK", ChronoUI_Settings.Settings.AntiAFKActive, function(state)
Â  Â  Â  Â  ChronoUI_Settings.Settings.AntiAFKActive = state
Â  Â  end)
Â  Â  QolTab:NewToggle("Auto Dungeon + Webhook", ChronoUI_Settings.Settings.AutoDungeonActive, function(state)
Â  Â  Â  Â  ChronoUI_Settings.Settings.AutoDungeonActive = state
Â  Â  end)
Â  Â Â 
Â  Â  -- Movement Utilities (Walk Speed, Fly, Dash)
Â  Â  QolTab:NewSlider("Walk Speed Multiplier", 16, 100, 16, function(value)
Â  Â  Â  Â  LocalPlayer.Character.Humanoid.WalkSpeed = value
Â  Â  end)
Â  Â Â 
Â  Â  print("[Custodian Archive] Weak Legacy 2 UI Initialized and Ready.")
end

-- Initiate the sequence after the environment stabilizes
wait(3)Â 
ChronoUI_Module.Initialize()
end
